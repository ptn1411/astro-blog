backend:
  name: github
  repo: ptn1411/astro-blog
  branch: main
  site_domain: bug.edu.vn
  base_url: https://sveltia-cms-auth.zvw180ptn1411.workers.dev

media_folder: 'src/assets/images'
public_folder: 'src/assets/images'

slug:
  encoding: 'ascii'
  clean_accents: true
  sanitize_replacement: '-'

collections:
  # ========== POST ==========
  - name: 'post'
    label: 'Post'
    folder: 'src/content/post'
    create: true
    slug: '{{slug | upper | truncate(70)}}'
    extension: 'mdx'
    format: 'frontmatter'
    editor:
      preview: true
    sortable_fields:
      fields: [title, publishDate, author]
      default:
        field: publishDate
        direction: descending # default: ascending
    fields:
      - { label: 'Title', name: 'title', widget: 'string' }
      - { label: 'Excerpt', name: 'excerpt', widget: 'string' }
      - label: 'Category'
        name: 'category'
        widget: 'relation'
        collection: 'category'
        search_fields: ['name']
        value_field: 'name'
        display_fields: ['name']
      - label: 'Tags'
        name: 'tags'
        widget: 'relation'
        collection: 'tag'
        multiple: true
        search_fields: ['name']
        value_field: 'name'
        display_fields: ['name']
      - label: 'Series'
        name: 'series'
        widget: 'object'
        required: false
        collapsed: true
        fields:
          - { label: 'Mã series', name: 'id', widget: 'string', required: false, hint: 'Ví dụ: ai-co-ban' }
          - { label: 'Tiêu đề series', name: 'title', widget: 'string', required: false }
          - { label: 'Phần số', name: 'part', widget: 'number', required: false, value_type: 'int', min: 1 }
          - { label: 'Tổng số phần', name: 'totalParts', widget: 'number', required: false, value_type: 'int', min: 1 }
      - label: 'Author'
        name: 'author'
        widget: 'relation'
        collection: 'author'
        search_fields: ['name']
        value_field: 'name'
        display_fields: ['name']
      - { label: 'Image', name: 'image', widget: 'image', required: false }
      - { label: 'Publish Date', name: 'publishDate', widget: 'datetime', required: true }
      - {
          label: 'Content',
          name: 'body',
          minimal: false,
          widget: 'markdown',
          buttons:
            [
              'bold',
              'italic',
              'link',
              'heading-one',
              'heading-two',
              'heading-three',
              'heading-four',
              'heading-five',
              'heading-six',
              'quote',
              'code',
              'code-block',
              'numbered-list',
              'bulleted-list',
              'table',
              'strikethrough',
              'image',
              'hr',
            ],
          editor_components: ['image', 'youtube', 'vimeo', 'tweet', 'code-block'],
        }

  # ========== AUTHOR ==========
  - name: 'author'
    label: 'Author'
    folder: 'src/content/author'
    create: true
    slug: '{{fields.username}}'
    extension: 'mdx'
    format: 'frontmatter'
    fields:
      - { label: 'Name', name: 'name', widget: 'string' }
      - { label: 'Email', name: 'email', widget: 'string' }
      - label: 'Username'
        name: 'username'
        widget: 'string'
        hint: 'Chi dung chu thuong, so va dau gach ngang'
      - { label: 'Avatar', name: 'avatar', widget: 'image', required: false }
      - { label: 'Bio', name: 'bio', widget: 'text', required: false, max_length: 150 }
      - { label: 'Website', name: 'website', widget: 'string', required: false }
      - label: 'Stories'
        name: 'stories'
        widget: 'relation'
        collection: 'stories'
        multiple: true
        required: false
        search_fields: ['title', 'id']
        value_field: 'id'
        display_fields: ['title']
      - { label: 'Content', name: 'body', minimal: false, widget: 'markdown' }
  # ========== CATEGORY ==========
  - name: 'category'
    label: 'Category'
    folder: 'src/content/category'
    create: true
    slug: '{{slug}}'
    extension: 'mdx'
    format: 'frontmatter'
    fields:
      - { label: 'Name', name: 'name', widget: 'string' }
      - { label: 'Description', name: 'description', widget: 'text', required: false }

  # ========== TAG ==========
  - name: 'tag'
    label: 'Tag'
    folder: 'src/content/tag'
    create: true
    slug: '{{slug}}'
    extension: 'mdx'
    format: 'frontmatter'
    fields:
      - { label: 'Name', name: 'name', widget: 'string' }
      - { label: 'Description', name: 'description', widget: 'text', required: false }

  # ========== PAGE ==========
  - name: 'page'
    label: 'Page'
    folder: 'src/content/page'
    create: true
    slug: '{{slug}}'
    extension: 'mdx'
    format: 'frontmatter'
    fields:
      - { label: 'Title', name: 'title', widget: 'string' }
      - { label: 'Featured Image', name: 'image', widget: 'image', required: false }
      - label: 'Metadata'
        name: 'metadata'
        widget: 'object'
        collapsed: true
        fields:
          - { label: 'Title', name: 'title', widget: 'string', required: false }
          - { label: 'Description', name: 'description', widget: 'text', required: false }
      - { label: 'Content', name: 'body', minimal: false, widget: 'markdown' }

  # ========== STORIES ==========
  - name: 'stories'
    label: 'Stories'
    folder: 'src/content/stories'
    create: true
    slug: '{{slug}}'
    extension: 'mdx'
    format: 'frontmatter'
    editor:
      preview: false
    fields:
      - { label: 'ID', name: 'id', widget: 'string' }
      - { label: 'Title', name: 'title', widget: 'string' }
      - { label: 'Description', name: 'description', widget: 'text', required: false }
      - { label: 'Thumbnail', name: 'thumbnail', widget: 'image', required: false }
      - { label: 'Audio', name: 'audio', widget: 'file', required: false }
      - { label: 'Auto Play', name: 'autoPlay', widget: 'boolean', default: false }
      - { label: 'Loop', name: 'loop', widget: 'boolean', default: false }
      - { label: 'Created At', name: 'createdAt', widget: 'datetime', required: false }
      - label: 'Slides'
        name: 'slides'
        widget: 'list'
        summary: 'Slide {{fields.id}} - {{fields.duration}}ms'
        collapsed: true
        fields:
          - { label: 'ID', name: 'id', widget: 'string' }
          - { label: 'Background Color', name: 'bgColor', widget: 'color', default: '#000000', required: false }
          - { label: 'Background Image', name: 'bgImage', widget: 'image', required: false }
          - { label: 'Text', name: 'text', widget: 'text', required: false }
          - { label: 'Text Color', name: 'textColor', widget: 'color', default: '#ffffff', required: false }
          - label: 'Text Size'
            name: 'textSize'
            widget: 'select'
            options: ['small', 'medium', 'large']
            default: 'medium'
          - { label: 'Image', name: 'image', widget: 'image', required: false }
          - { label: 'Duration (ms)', name: 'duration', widget: 'number', default: 5000 }
