---
import Headline from '~/components/ui/Headline.astro';
import WidgetWrapper from '~/components/ui/WidgetWrapper.astro';

export interface Props {
  title?: string;
  subtitle?: string;
  placeholder?: string;
  buttonText?: string;
  disclaimer?: string;
  id?: string;
  isDark?: boolean;
  bg?: string;
}

const {
  title,
  subtitle,
  placeholder = 'Enter your email',
  buttonText = 'Subscribe',
  disclaimer,
  id,
  isDark = false,
  bg,
} = Astro.props;
---

<WidgetWrapper id={id} isDark={isDark} bg={bg} containerClass="max-w-xl">
  {(title || subtitle) && <Headline title={title} subtitle={subtitle} classes={{ container: 'mb-6 text-center' }} />}
  <form class="flex flex-col sm:flex-row gap-3">
    <input
      type="email"
      placeholder={placeholder}
      required
      class="flex-1 px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition-all"
    />
    <button
      type="submit"
      class="px-6 py-3 bg-primary hover:bg-primary/90 text-white font-semibold rounded-lg transition-colors duration-200 whitespace-nowrap">
      {buttonText}
    </button>
  </form>
  {disclaimer && <p class="mt-3 text-xs text-gray-500 dark:text-gray-400 text-center">{disclaimer}</p>}
</WidgetWrapper>
