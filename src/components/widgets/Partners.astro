---
import Headline from '~/components/blog/Headline.astro';
import Image from '~/components/common/Image.astro';

export interface Props {
  title?: string;
  subtitle?: string;
  tagline?: string;
  partners?: Array<{
    name: string;
    description?: string;
    logo?: { src: string; alt?: string };
    href?: string;
  }>;
  id?: string;
  isDark?: boolean;
  classes?: Record<string, string>;
  bg?: string;
}

const {
  title = '',
  subtitle = '',
  tagline = '',
  partners = [],
  id,
  isDark = false,
  classes = {},
  bg = '',
} = Astro.props;
---

<section
  class:list={['relative not-prose scroll-mt-[72px]', { dark: isDark }, classes?.container]}
  {...id ? { id } : {}}>
  <Fragment set:html={bg} />

  <div class="relative px-4 py-16 md:py-20 lg:py-24 max-w-7xl mx-auto">
    <Headline title={title} subtitle={subtitle} tagline={tagline} />

    <div class="grid gap-8 md:grid-cols-2 lg:grid-cols-3">
      {
        partners.map((partner) => {
          const Wrapper = partner.href ? 'a' : 'div';
          return (
            <Wrapper
              {...(partner.href ? { href: partner.href, target: '_blank', rel: 'noopener noreferrer' } : {})}
              class:list={[
                'flex items-center gap-4 p-4 bg-white dark:bg-slate-900 rounded-lg shadow',
                partner.href && 'hover:shadow-lg transition-shadow cursor-pointer',
              ]}>
              {partner.logo && (
                <Image class="w-16 h-16 object-contain flex-shrink-0" width={64} height={64} {...partner.logo} />
              )}
              <div>
                <h4 class="font-bold dark:text-white">{partner.name}</h4>
                {partner.description && <p class="text-sm text-gray-500 dark:text-slate-400">{partner.description}</p>}
              </div>
            </Wrapper>
          );
        })
      }
    </div>
  </div>
</section>
