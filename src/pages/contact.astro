---
import ContactUs from '~/components/widgets/Contact.astro';
import Features2 from '~/components/widgets/Features2.astro';
import HeroText from '~/components/widgets/HeroText.astro';
import Layout from "~/layouts/PageLayout.astro";
import { getCanonical } from "~/utils/permalinks";
import { buildContactPageSchema } from "~/utils/structured-data";

const canonical = String(getCanonical(Astro.url.pathname));

const metadata = {
  title: 'Liên hệ - Phạm Thành Nam',
  description:
    'Liên hệ trực tiếp về công việc freelance, hợp tác kỹ thuật hoặc thử nghiệm sáng tạo. Phản hồi trong 24 giờ.',
  canonical,
  structuredData: [
    buildContactPageSchema({
      url: canonical,
      email: 'mailto:phamnam.dev@gmail.com',
      description:
        'Kênh liên lạc cho hợp tác phát triển phần mềm, tư vấn kỹ thuật và các ý tưởng dự án sáng tạo.',
    }),
  ],
};
---

<Layout metadata={metadata}>
  <!-- Hero -->
  <HeroText
    tagline="Liên hệ"
    title="Cùng nhau tạo nên điều gì đó"
    subtitle="Bạn có ý tưởng dự án, lời mời hợp tác hay chỉ muốn chào hỏi? Tôi luôn sẵn sàng lắng nghe."
  />

  <!-- Contact Form -->
  <ContactUs
    id="form"
    title="Gửi tôi một lời nhắn"
    subtitle="Tôi thường phản hồi trong vòng 24 giờ - cứ thoải mái chia sẻ ý tưởng hoặc câu hỏi của bạn."
    action="https://docs.google.com/forms/d/e/1FAIpQLSe5lZtZbEXAMPLE/formResponse"
    method="POST"
    inputs={[
      { type: 'text', name: 'name', label: 'Họ tên' },
      { type: 'email', name: 'email', label: 'Email của bạn' },
    ]}
    textarea={{ name: 'message', label: 'Nội dung' }}
    disclaimer={{
      label: 'Tôi chỉ sử dụng thông tin liên hệ để trả lời bạn. Không spam, không đăng ký.',
    }}
    description="Tin nhắn của bạn sẽ đến thẳng hộp thư của tôi."
  />

  <!-- Contact Info -->
  <Features2
    title="Kênh liên hệ khác"
    tagline="Liên kết nhanh"
    columns={3}
    items={[
      {
        title: 'GitHub',
        description: 'github.com/ptndz',
        icon: 'tabler:brand-github',
      },
      {
        title: 'Email',
        description: 'phamnam.dev@gmail.com',
        icon: 'tabler:mail',
      },
      {
        title: 'Telegram',
        description: 't.me/Ptn1411',
        icon: 'tabler:send',
      },
      {
        title: 'LinkedIn',
        description: 'linkedin.com/in/Ptn1411',
        icon: 'tabler:brand-linkedin',
      },
      {
        title: 'Vị trí',
        description: 'Việt Nam (GMT+7)',
        icon: 'tabler:map-pin',
      },
      {
        title: 'Portfolio',
        description: 'ptndz.dev',
        icon: 'tabler:world',
      },
    ]}
  />
</Layout>





