---
import Features2 from '~/components/widgets/Features2.astro';
import HeroText from '~/components/widgets/HeroText.astro';
import Layout from '~/layouts/PageLayout.astro';
import { getCanonical } from '~/utils/permalinks';
import { buildContactPageSchema } from '~/utils/structured-data';

const canonical = String(getCanonical(Astro.url.pathname));

const metadata = {
  title: 'Liên hệ - Phạm Thành Nam',
  description:
    'Liên hệ trực tiếp về công việc freelance, hợp tác kỹ thuật hoặc thử nghiệm sáng tạo. Phản hồi trong 24 giờ.',
  canonical,
  structuredData: [
    buildContactPageSchema({
      url: canonical,
      email: 'mailto:contact@bug.edu.vn',
      description: 'Kênh liên lạc cho hợp tác phát triển phần mềm, tư vấn kỹ thuật và các ý tưởng dự án sáng tạo.',
    }),
  ],
};
---

<Layout metadata={metadata}>
  <!-- Hero -->
  <HeroText
    tagline="Liên hệ"
    title="Cùng nhau tạo nên điều gì đó"
    subtitle="Bạn có ý tưởng dự án, lời mời hợp tác hay chỉ muốn chào hỏi? Tôi luôn sẵn sàng lắng nghe."
  />

  <!-- Contact Form -->

  <section id="form" class="py-12">
    <div class="mx-auto max-w-3xl">
      <h2 class="text-3xl font-bold mb-4">Gửi tôi một lời nhắn</h2>
      <p class="text-lg mb-8">
        Tôi thường phản hồi trong vòng 24 giờ - cứ thoải mái chia sẻ ý tưởng hoặc câu hỏi của bạn.
      </p>

      <div class="w-full min-h-[900px] rounded-xl overflow-hidden shadow-lg">
        <iframe
          src="https://docs.google.com/forms/d/e/1FAIpQLScQJwOpLGFrES6Ah5wg3BohZ2P4MCGj816-N8Szxvale5K2Zg/viewform?embedded=true"
          width="100%"
          height="900"
          frameborder="0"
          marginheight="0"
          marginwidth="0">
          Đang tải…
        </iframe>
      </div>

      <p class="mt-4 text-sm text-gray-500">Tin nhắn của bạn sẽ đến thẳng hộp thư của tôi.</p>

      <p class="mt-2 text-sm text-gray-500">
        Tôi chỉ sử dụng thông tin liên hệ để trả lời bạn. Không spam, không đăng ký.
      </p>
    </div>
  </section>

  <!-- Contact Info -->
  <Features2
    title="Kênh liên hệ khác"
    tagline="Liên kết nhanh"
    columns={3}
    items={[
      {
        title: 'GitHub',
        description: 'github.com/ptndz',
        icon: 'tabler:brand-github',
      },
      {
        title: 'Email',
        description: 'contact@bug.edu.vn',
        icon: 'tabler:mail',
      },
      {
        title: 'Telegram',
        description: 't.me/Ptn1411',
        icon: 'tabler:send',
      },
      {
        title: 'LinkedIn',
        description: 'linkedin.com/in/Ptn1411',
        icon: 'tabler:brand-linkedin',
      },
      {
        title: 'Vị trí',
        description: 'Việt Nam (GMT+7)',
        icon: 'tabler:map-pin',
      },
      {
        title: 'Portfolio',
        description: 'bug.edu.vn',
        icon: 'tabler:world',
      },
    ]}
  />
</Layout>
