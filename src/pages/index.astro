---
import logo from '~/assets/favicons/logo.png';
import BlogLatestPosts from '~/components/widgets/BlogLatestPosts.astro';
import CallToAction from '~/components/widgets/CallToAction.astro';
import Content from '~/components/widgets/Content.astro';
import Features from '~/components/widgets/Features.astro';
import Hero from '~/components/widgets/Hero.astro';
import Note from '~/components/widgets/Note.astro';
import Stats from '~/components/widgets/Stats.astro';
import Steps from '~/components/widgets/Steps.astro';
import Layout from '~/layouts/PageLayout.astro';
import { getCanonical } from '~/utils/permalinks';
import { buildPersonSchema, buildProfessionalServiceSchema } from '~/utils/structured-data';
const canonical = String(getCanonical(Astro.url.pathname));

const metadata = {
  title: 'Phạm Thành Nam - Lập trình viên Fullstack & Maker',
  ignoreTitleTemplate: true,
  description:
    'Phát triển web fullstack, thiết kế hệ thống và xây dựng công cụ sáng tạo giúp doanh nghiệp triển khai ý tưởng thành sản phẩm thực tế.',
  canonical,
  structuredData: [
    buildPersonSchema(canonical, {
      jobTitle: 'Fullstack Developer & Maker',
      worksFor: {
        '@type': 'Organization',
        name: 'Freelance Studio',
      },
    }),
    buildProfessionalServiceSchema({
      url: canonical,
      serviceTypes: [
        'Phát triển web Fullstack',
        'Kiến trúc hệ thống',
        'Xây dựng công cụ sáng tạo',
        'Tối ưu hiệu năng & bảo mật',
      ],
      description:
        'Dịch vụ phát triển sản phẩm số: từ API Node.js, giao diện React đến hệ thống Go và tự động hóa hạ tầng.',
    }),
  ],
};
---

<Layout metadata={metadata}>
  <!-- Hero -->
  <Hero
    actions={[
      { variant: 'primary', text: 'Xem dự án', href: '/personal#projects' },
      { text: 'Liên hệ', href: '/contact' },
    ]}
    image={{
      src: logo,
      alt: 'Phạm Thành Nam',
    }}>
    <Fragment slot="title">
      Xin chào, tôi là <span class="text-accent dark:text-white">Phạm Thành Nam</span><br />
      Lập trình viên Fullstack & Người làm cà phê ☕
    </Fragment>

    <Fragment slot="subtitle">
      Tôi xây dựng <b>ứng dụng web hiện đại, công cụ sáng tạo và hệ thống có thể mở rộng</b>.<br />
      Từ <b>API Node.js</b> đến <b>frontend React</b> và <b>hạ tầng Go</b> -<br />
      tôi biến ý tưởng thành sản phẩm vận hành thực tế.
    </Fragment>
  </Hero>

  <!-- Intro -->
  <Note title="Triết lý:" description="Xây đơn giản. Mở rộng khôn ngoan. Giữ lửa sáng tạo." />

  <!-- Features -->
  <Features
    id="features"
    tagline="Chuyên môn"
    title="Tôi mang đến điều gì"
    subtitle="Tôi giúp cá nhân và đội ngũ xây những sản phẩm đáng tin cậy, sáng tạo và dễ bảo trì."
    items={[
      {
        title: 'Phát triển web Fullstack',
        description:
          'Tạo ra hệ thống hoàn chỉnh với Node.js, React, Prisma, Postgres và Docker. Frontend và backend luôn nhịp nhàng.',
        icon: 'tabler:code',
      },
      {
        title: 'Kiến trúc hệ thống',
        description: 'Thiết kế hạ tầng gọn nhẹ, dễ mở rộng - bao gồm microservice, API nội bộ và luồng tự động hóa.',
        icon: 'tabler:server',
      },
      {
        title: 'Kỹ thuật sáng tạo',
        description:
          'Xây dựng trình soạn thảo, công cụ tự động và ứng dụng đa phương tiện - từ builder kéo thả đến hệ thống video với FFmpeg.',
        icon: 'tabler:brush',
      },
      {
        title: 'Hiệu năng & Bảo mật',
        description: 'Tối ưu tốc độ, cải thiện SEO, bảo vệ API và củng cố triển khai với PM2, Nginx và HTTPS.',
        icon: 'tabler:lock',
      },
      {
        title: 'Tư vấn & Hợp tác',
        description: 'Cung cấp định hướng kỹ thuật và tư vấn kiến trúc cho startup cùng các dự án sáng tạo.',
        icon: 'tabler:users',
      },
      {
        title: 'Cải tiến liên tục',
        description:
          'Luôn lặp lại, ghi chép và tinh chỉnh - vì phần mềm nên tiếp tục phát triển chứ không chỉ dừng ở lúc ra mắt.',
        icon: 'tabler:refresh',
      },
    ]}
  />

  <!-- Content: About -->
  <Content
    isReversed
    tagline="Về tôi"
    title="Nhiều hơn cả những dòng code"
    items={[
      {
        title: 'Lập trình viên & Maker',
        description:
          'Tôi thích tạo nên các hệ thống web cân bằng giữa chức năng và thẩm mỹ - vừa mang tư duy kỹ sư vừa đậm tinh thần thiết kế.',
      },
      {
        title: 'Người trồng cà phê',
        description:
          'Ngoài màn hình, tôi chăm sóc những luống cà phê - sự kiên nhẫn ở nông trại định hình cách tôi phát triển phần mềm.',
      },
      {
        title: 'Người khám phá công cụ',
        description:
          'Luôn thử nghiệm các stack hiện đại - Astro, Next.js, Go, Prisma, Docker và những công cụ AI mới nổi.',
      },
    ]}
    image={{
      src: 'https://images.unsplash.com/photo-1556075798-4825dfaaf498?auto=format&fit=crop&w=2070&q=80',
      alt: 'Góc làm việc',
    }}>
    <Fragment slot="content">
      <h3 class="text-2xl font-bold tracking-tight dark:text-white sm:text-3xl mb-2">
        Kết hợp logic và sáng tạo để xây dựng những công cụ khiến người dùng yêu thích.
      </h3>
    </Fragment>
  </Content>

  <!-- Steps -->
  <Steps
    title="Quy trình phát triển"
    tagline="Từ ý tưởng tới ra mắt"
    items={[
      {
        title: 'Bước 1: <span class="font-medium">Lên kế hoạch</span>',
        description:
          'Tìm hiểu ý tưởng và mục tiêu của bạn. Tôi xác định tính năng cốt lõi, stack và cấu trúc hệ thống.',
        icon: 'tabler:list',
      },
      {
        title: 'Bước 2: <span class="font-medium">Xây dựng</span>',
        description: 'Phát triển API backend, giao diện frontend và tích hợp dịch vụ bằng thực hành code hiện đại.',
        icon: 'tabler:bolt',
      },
      {
        title: 'Bước 3: <span class="font-medium">Triển khai & Lặp lại</span>',
        description:
          'Triển khai trên môi trường có khả năng mở rộng và liên tục cải thiện dựa trên phản hồi cùng số liệu vận hành.',
        icon: 'tabler:rocket',
      },
    ]}
    image={{
      src: 'https://images.unsplash.com/photo-1506452819137-0422416856b8?auto=format&fit=crop&w=768&h=1365&q=80',
      alt: 'Quy trình phát triển',
    }}
  />

  <!-- Stats -->
  <Stats
    stats={[
      { title: 'Dự án đã thực hiện', amount: '50+' },
      { title: 'Năm kinh nghiệm', amount: '8+' },
      { title: 'Công nghệ sở trường', amount: 'Node.js Go' },
      { title: 'Ly cà phê', amount: '☕ mỗi ngày' },
    ]}
  />

  <!-- Blog -->
  <BlogLatestPosts
    title="Bài viết mới nhất"
    information={`Tôi chia sẻ góc nhìn về JavaScript, React, Go và hành trình xây dựng hệ thống sáng tạo. Ghé xem những bài viết mới.`}
  />

  <!-- CTA -->
  <CallToAction
    title="Hãy cùng hợp tác"
    subtitle="Sẵn sàng cho dự án freelance, hợp tác và các thử nghiệm sáng tạo."
    actions={[
      { variant: 'primary', text: 'Liên hệ', href: '/contact' },
      { variant: 'secondary', text: 'Xem GitHub', href: 'https://github.com/ptndz' },
    ]}
  />
</Layout>
